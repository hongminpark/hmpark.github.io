---
layout: post
title: "[μ¤ν„°λ””ν• λ 08] μΈν„°νμ΄μ¤"
author: "Hongmin Park"
tags: java
---
*μ΄ κΈ€μ€ 'λ°±κΈ°μ„ ' κ°λ°μλ‹κ³Ό ν•¨κ»ν•λ” μ¨λΌμΈ μλ°” μ¤ν„°λ””μ— μ°Έμ—¬ν•μ—¬ μ¤€λΉ„/ν•™μµν• λ‚΄μ©μ„ μ •λ¦¬ν•λ” κΈ€μ…λ‹λ‹¤.π“*
- 8μ£Όμ°¨ : https://github.com/whiteship/live-study/issues/8
- λ©ν‘ : μλ°”μ μΈν„°νμ΄μ¤μ— λ€ν•΄ ν•™μµ

μ •λ¦¬λ” *[Java Tutorials - Interface](https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html)*λ¥Ό κΈ°λ°μΌλ΅ ν•μ€μµλ‹λ‹¤. 

# μΈν„°νμ΄μ¤ μ •μν•λ” λ°©λ²•
- μλ°”μ—μ„ μΈν„°νμ΄μ¤λ” ν΄λμ¤μ™€ κ°™μ€ reference typeμ΄λ‹¤. 
- μƒμ, λ©”μ†λ“ μ‹κ·Έλ‹μ³, κΈ°λ³Έ λ©”μ†λ“, μ •μ  λ©”μ†λ“μ™€ μ¤‘μ²© νƒ€μ…λ§μ„ ν¬ν•¨ν•κ³  μλ‹¤.
- default method, static methodμ—λ§ λΈμ²΄κ°€ μ΅΄μ¬ν•λ‹¤.
- instanceν™” ν•  μ μ—†λ‹¤. ν΄λμ¤μ— μν•΄ κµ¬ν„λκ±°λ‚, λ‹¤λ¥Έ μΈν„°νμ΄μ¤κ°€ μƒμ†ν•λ” κ²½μ°λ§ μλ‹¤.
- public μ΄μ™Έμ μ ‘κ·Όμ ν•μ μ‚¬μ© κ°€λ¥
- λ‹¤λ¥Έ interfaceλ¥Ό μƒμ†ν•  μ μλ‹¤. ν΄λμ¤ μƒμ†κ³Ό λ‹¬λ¦¬ μ—¬λ¬ κ°μ μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν•  μ μλ‹¤. 
- ν•„λ“μ— μ ‘κ·Ό μ ν•μλ¥Ό μ‚¬μ©ν•μ§€ μ•λ” κΈ°λ³ΈμΌλ΅ `public` μ΄λ‹¤.
```java
public interface SampleInterface {
	// constants
	static final int sampleCount = 0;

	// abstract method
	void doSth();

	// default method
	default void print() {
		System.out.println("This is SampleInterface");
	}

	// static method
	static int count() { // implicitly public μ΄λ‹¤.
		return sampleCount;
	}
}
```

# μΈν„°νμ΄μ¤ κµ¬ν„ν•λ” λ°©λ²•
- μΈμ¤ν„΄μ¤ν™” ν•  μ μλ” ν΄λμ¤κ°€ μΈν„°νμ΄μ¤λ¥Ό `implements` ν•  κ²½μ°, λ©”μ†λ“μ λΈμ²΄λ¥Ό λ°λ“μ‹ κµ¬ν„ν•λ‹¤. 
- ν΄λμ¤ μƒμ†κ³Όλ” λ‹¬λ¦¬ μ—¬λ¬ κ°μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤.
```java
public class SampleClass implements SampleInterface, OtherInterface {
	@Override
	void doSth() {
		// μ¶”μƒ λ©”μ†λ“ λ°”λ””λ¥Ό λ°λ“μ‹ κµ¬ν„
	}
}
```

# μΈν„°νμ΄μ¤ λ νΌλ°μ¤λ¥Ό ν†µν•΄ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•
- μλ¬ΈμΌλ΅λ” *Using an Interface as a Type* μ΄λΌκ³ λ„ ν‘ν„ν•λ‹¤. 
- μΈν„°νμ΄μ¤λ„ ν΄λμ¤λ¥Ό μ •μν•λ” κ²ƒ μ²λΌ, **νƒ€μ…**μ„ μ •μν•λ” κ²ƒμ΄λ‹¤.
- μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ” κ²ƒμ€ μƒλ΅μ΄ reference νƒ€μ…μ„ μ •μν•λ” κ²ƒμ΄λ‹¤. μ¦‰, data typeμ„ μ‚¬μ©ν•λ” κ³³μ—λ” μ •μν• interface λ¥Ό μ–΄λ””λ“  μ‚¬μ©ν•  μ μλ‹¤.  
- interface typeμ λ³€μλ¥Ό ν• λ‹Ήν•  λ•μ—λ” *ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤*μ—¬μ•Ό ν•λ‹¤.
- interface λ νΌλ°μ¤λ¥Ό ν†µν•΄ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•λ©΄, νΉμ • κµ¬ν„μ— ν•μ •ν•μ§€ μ•κ³ , ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  ν΄λμ¤λ¥Ό λ³€μλ΅ λ°›μ„ μ μμ–΄ μ μ—°ν•κ² μ½”λ“ μ‘μ„±μ„ ν•  μ μλ‹¤. 

# μΈν„°νμ΄μ¤ μƒμ†
- κΈ°μ΅΄μ— μ΅΄μ¬ν•λ” μΈν„°νμ΄μ¤μ—μ„ μ‹ κ· λ©”μ†λ“ μ¶”κ°€κ°€ ν•„μ”ν•  λ•μ—, κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— μ¶”κ°€ν•μ§€ μ•κ³  μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό μ •μν•΄μ„ κΈ°μ΅΄ μΈν„°νμ΄μ¤λ¥Ό μƒμ†μ‹ν‚¨λ‹¤.
```java
public interface FirstInterface {
	void doSthFirst();

	// void soSthSecond();
}

// μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” κΈ°μ΅΄ μ‚¬μ©μλ” FirstInterfaceλ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•  μλ„ μκ³ ,
// μƒλ΅ κµ¬ν„λ SecondInterfaceλ¥Ό μ‚¬μ©ν• ν›„ μ¶”κ°€λ λ©”μ†λ“λ¥Ό κµ¬ν„ν•  μλ„ μλ‹¤.
public interface SecondInterface extends FirstInterface {
	void doSthSecond();	
}
```

# μΈν„°νμ΄μ¤μ κΈ°λ³Έ λ©”μ†λ“ (Default Method), μλ°” 8
- μΈν„°νμ΄μ¤μ— μ‹ κ· λ©”μ†λ“κ°€ μ¶”κ°€ λλ” κ²½μ°, λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ—μ„ ν•΄λ‹Ή λ©”μ†λ“λ¥Ό μ¶”κ°€λ΅ κµ¬ν„ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤. μ¶”κ°€ κµ¬ν„λ λ©”μ†λ“κ°€ λ°λ“μ‹ κµ¬ν„ν•΄μ•Ό ν•μ§€ μ•μ„ μλ„ μλ‹¤. 
- μ΄λ° κ²½μ° default methodλ¥Ό μ‚¬μ©ν•΄μ„, ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤μ‹ λ©”μ†λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„λ„ λλ” νΈμλ¥Ό μ¤„ μ μλ‹¤. 
- `default` ν‚¤μ›λ“λ΅ λ©”μ†λ“λ¥Ό μ •μν•λ‹¤.
- default methodκ°€ μλ” μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ—μ„λ”
	- λ³„λ„λ΅ μ–ΈκΈ‰X -> κµ¬ν„λ λ©”μ†λ“λ¥Ό κ·Έλ€λ΅ μƒμ†
	- μΈν„°νμ΄μ¤μ μ…μ¥μ—μ„λ”, **redeclare**ν•λ‹¤. κΈ°μ΅΄ λ©”μ†λ“λ” `abstract` λ©”λ„μ¤κ°€ λλ‹¤.
	- ν΄λμ¤μ μ…μ¥μ—μ„λ”, **redefine**ν•΄μ„ κΈ°μ΅΄ λ©”μ†λ“λ¥Ό *override* ν•λ‹¤.

# μΈν„°νμ΄μ¤μ static λ©”μ†λ“, μλ°” 8
- μΈν„°νμ΄μ¤μ— static λ©”μ†λ“λ¥Ό μ •μν•  μ μλ‹¤. μ •μλ static methodλ” μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ— μ†ν•λ” ν΄λμ¤ λ©”μ†λ“μ΄λ‹¤.
- μΈν„°νμ΄μ¤μ— static λ©”μ†λ“λ¥Ό μ¶”κ°€ν•΄μ„, μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ“¤μ κ³µν†µλ helper methodμ μ—­ν• μ„ ν•  μ μλ‹¤.
- default λ©”μ†λ“μ™€ static λ©”μ†λ“ λ¨λ‘ μΈν„°νμ΄μ¤μ— λ―Έλ¦¬ κµ¬ν„ν•΄λ‘λ” λ©”μ†λ“μ΄κΈ° λ•λ¬Έμ— λΉ„μ·ν•΄ λ³΄μ΄μ§€λ§ μ•„λμ μ°¨μ΄μ μ„ κµ¬λ¶„ν•΄μ„ μ μ ν• κ²½μ°μ— μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.
	- default λ©”μ†λ“ : μΈμ¤ν„΄μ¤ λ©¤λ²„μ΄λ‹¤. μ¦‰, κ° ν΄λμ¤μ μΈμ¤ν„΄μ¤μ— μ†ν•λ‹¤.
	- static λ©”μ†λ“ : ν΄λμ¤ λ©¤λ²„. ν΄λμ¤ μμ²΄μ— μ†ν•λ‹¤.

# μΈν„°νμ΄μ¤μ private λ©”μ†λ“, μλ°” 9
- μΈν„°νμ΄μ¤μ— java7μ—μ„λ” abstract methodκ°€, java8μ—μ„λ” default methodκ°€ μ¶”κ°€λμ—λ‹¤. 
- java9 μ—μ„λ” 
> Support for Private Interface Methods<br>
Private interface methods are supported. This support allows nonabstract methods of an interface to share code between them.
<br>(From https://docs.oracle.com/en/java/javase/15/language/java-language-changes.html#GUID-015392DB-F5C4-4A8E-B190-E797707E7BFB)

μ²λΌ, μΈν„°νμ΄μ¤μ—μ„ λΈμ²΄λ¥Ό κ°€μ§„ private λ©”μ†λ“λ¥Ό κµ¬ν„ν•  μ μλ„λ΅ μ¶”κ°€λμ—λ‹¤. μ΄κ²ƒμ΄ μλ―Έν•λ” λ°”κ°€ λ¬΄μ—‡μΈκ°€ ?
- abstract methodμ— μ΄μ–΄ default methodκ°€ μ¶”κ°€λλ©΄μ„, μΈν„°νμ΄μ¤μ—λ„ λΈμ²΄λ¥Ό κµ¬ν„ν•  μΌμ΄ λ§μ•„μ΅λ‹¤. μλ¥Ό λ“¤μ–΄, μ„λ΅ λ‹¤λ¥Έ defualt methodκ°€ λ‚΄λ¶€μ—μ„λ§ μ‚¬μ©λλ” λ™μΌν• μ½”λ“λ¥Ό κ³µμ ν•΄μ•Ό ν•λ” μƒν™©μ„ μƒκ°ν•΄λ³΄λ©΄,
	- κ³µν†µ λ©”μ„λ“λ¥Ό μ„ μ–Έν•μλ‹, κΈ°μ΅΄μ—λ” public default λ©”μ†λ“λ΅ μ™Έλ¶€μ— λ…Έμ¶λμ–΄μ•Ό ν–λ‹¤.
	- private methodλ¥Ό μ‚¬μ©ν•λ©΄ μ„ μ–Έν•λ‹¤λ©΄ μ™Έλ¶€μ— λ…Έμ¶ν•μ§€ μ•κ³ , interface μ—λ§ λΈμ²΄λ¥Ό κ°€μ§„ λ©”μ†λ“λ¥Ό μ„ μ–Έν•  μ μκ² λλ‹¤. μ¦‰, λ” λ†’μ€ μ°¨μ›μ **encapsulation**μ΄ κ°€λ¥ν•λ‹¤. 
```java
public interface JavaNineInterface {
     
    public abstract void method1();

	// μ΄λ° μ½”λ“κ°€ κ°€λ¥ν•λ‹¤.     
    public default void method2() {
    	commonMethod();
    }
     
    public default void method3() {
    	commonMethod();
    }

    private void commonMethod(){
        System.out.println("This is common private method");
    } 
}

```



